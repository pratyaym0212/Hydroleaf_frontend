module.exports = {
  '[externals]/next/dist/compiled/next-server/app-route.runtime.dev.js [external] (next/dist/compiled/next-server/app-route.runtime.dev.js, cjs)':
    function (__turbopack_context__) {
      var {
        r: __turbopack_require__,
        f: __turbopack_module_context__,
        i: __turbopack_import__,
        s: __turbopack_esm__,
        v: __turbopack_export_value__,
        n: __turbopack_export_namespace__,
        c: __turbopack_cache__,
        M: __turbopack_modules__,
        l: __turbopack_load__,
        j: __turbopack_dynamic__,
        P: __turbopack_resolve_absolute_path__,
        U: __turbopack_relative_url__,
        R: __turbopack_resolve_module_id_path__,
        b: __turbopack_worker_blob_url__,
        g: global,
        __dirname,
        x: __turbopack_external_require__,
        y: __turbopack_external_import__,
        m: module,
        e: exports,
        t: __turbopack_require_real__,
      } = __turbopack_context__;
      {
        const mod = __turbopack_external_require__(
          'next/dist/compiled/next-server/app-route.runtime.dev.js',
          () =>
            require('next/dist/compiled/next-server/app-route.runtime.dev.js')
        );

        module.exports = mod;
      }
    },
  '[externals]/next/dist/compiled/@opentelemetry/api [external] (next/dist/compiled/@opentelemetry/api, cjs)':
    function (__turbopack_context__) {
      var {
        r: __turbopack_require__,
        f: __turbopack_module_context__,
        i: __turbopack_import__,
        s: __turbopack_esm__,
        v: __turbopack_export_value__,
        n: __turbopack_export_namespace__,
        c: __turbopack_cache__,
        M: __turbopack_modules__,
        l: __turbopack_load__,
        j: __turbopack_dynamic__,
        P: __turbopack_resolve_absolute_path__,
        U: __turbopack_relative_url__,
        R: __turbopack_resolve_module_id_path__,
        b: __turbopack_worker_blob_url__,
        g: global,
        __dirname,
        x: __turbopack_external_require__,
        y: __turbopack_external_import__,
        m: module,
        e: exports,
        t: __turbopack_require_real__,
      } = __turbopack_context__;
      {
        const mod = __turbopack_external_require__(
          'next/dist/compiled/@opentelemetry/api',
          () => require('next/dist/compiled/@opentelemetry/api')
        );

        module.exports = mod;
      }
    },
  '[externals]/next/dist/compiled/next-server/app-page.runtime.dev.js [external] (next/dist/compiled/next-server/app-page.runtime.dev.js, cjs)':
    function (__turbopack_context__) {
      var {
        r: __turbopack_require__,
        f: __turbopack_module_context__,
        i: __turbopack_import__,
        s: __turbopack_esm__,
        v: __turbopack_export_value__,
        n: __turbopack_export_namespace__,
        c: __turbopack_cache__,
        M: __turbopack_modules__,
        l: __turbopack_load__,
        j: __turbopack_dynamic__,
        P: __turbopack_resolve_absolute_path__,
        U: __turbopack_relative_url__,
        R: __turbopack_resolve_module_id_path__,
        b: __turbopack_worker_blob_url__,
        g: global,
        __dirname,
        x: __turbopack_external_require__,
        y: __turbopack_external_import__,
        m: module,
        e: exports,
        t: __turbopack_require_real__,
      } = __turbopack_context__;
      {
        const mod = __turbopack_external_require__(
          'next/dist/compiled/next-server/app-page.runtime.dev.js',
          () =>
            require('next/dist/compiled/next-server/app-page.runtime.dev.js')
        );

        module.exports = mod;
      }
    },
  '[externals]/next/dist/server/app-render/work-unit-async-storage.external.js [external] (next/dist/server/app-render/work-unit-async-storage.external.js, cjs)':
    function (__turbopack_context__) {
      var {
        r: __turbopack_require__,
        f: __turbopack_module_context__,
        i: __turbopack_import__,
        s: __turbopack_esm__,
        v: __turbopack_export_value__,
        n: __turbopack_export_namespace__,
        c: __turbopack_cache__,
        M: __turbopack_modules__,
        l: __turbopack_load__,
        j: __turbopack_dynamic__,
        P: __turbopack_resolve_absolute_path__,
        U: __turbopack_relative_url__,
        R: __turbopack_resolve_module_id_path__,
        b: __turbopack_worker_blob_url__,
        g: global,
        __dirname,
        x: __turbopack_external_require__,
        y: __turbopack_external_import__,
        m: module,
        e: exports,
        t: __turbopack_require_real__,
      } = __turbopack_context__;
      {
        const mod = __turbopack_external_require__(
          'next/dist/server/app-render/work-unit-async-storage.external.js',
          () =>
            require('next/dist/server/app-render/work-unit-async-storage.external.js')
        );

        module.exports = mod;
      }
    },
  '[externals]/next/dist/server/app-render/work-async-storage.external.js [external] (next/dist/server/app-render/work-async-storage.external.js, cjs)':
    function (__turbopack_context__) {
      var {
        r: __turbopack_require__,
        f: __turbopack_module_context__,
        i: __turbopack_import__,
        s: __turbopack_esm__,
        v: __turbopack_export_value__,
        n: __turbopack_export_namespace__,
        c: __turbopack_cache__,
        M: __turbopack_modules__,
        l: __turbopack_load__,
        j: __turbopack_dynamic__,
        P: __turbopack_resolve_absolute_path__,
        U: __turbopack_relative_url__,
        R: __turbopack_resolve_module_id_path__,
        b: __turbopack_worker_blob_url__,
        g: global,
        __dirname,
        x: __turbopack_external_require__,
        y: __turbopack_external_import__,
        m: module,
        e: exports,
        t: __turbopack_require_real__,
      } = __turbopack_context__;
      {
        const mod = __turbopack_external_require__(
          'next/dist/server/app-render/work-async-storage.external.js',
          () =>
            require('next/dist/server/app-render/work-async-storage.external.js')
        );

        module.exports = mod;
      }
    },
  '[externals]/crypto [external] (crypto, cjs)': function (
    __turbopack_context__
  ) {
    var {
      r: __turbopack_require__,
      f: __turbopack_module_context__,
      i: __turbopack_import__,
      s: __turbopack_esm__,
      v: __turbopack_export_value__,
      n: __turbopack_export_namespace__,
      c: __turbopack_cache__,
      M: __turbopack_modules__,
      l: __turbopack_load__,
      j: __turbopack_dynamic__,
      P: __turbopack_resolve_absolute_path__,
      U: __turbopack_relative_url__,
      R: __turbopack_resolve_module_id_path__,
      b: __turbopack_worker_blob_url__,
      g: global,
      __dirname,
      x: __turbopack_external_require__,
      y: __turbopack_external_import__,
      m: module,
      e: exports,
      t: __turbopack_require_real__,
    } = __turbopack_context__;
    {
      const mod = __turbopack_external_require__('crypto', () =>
        require('crypto')
      );

      module.exports = mod;
    }
  },
  '[externals]/@aws-sdk/client-s3 [external] (@aws-sdk/client-s3, cjs)':
    function (__turbopack_context__) {
      var {
        r: __turbopack_require__,
        f: __turbopack_module_context__,
        i: __turbopack_import__,
        s: __turbopack_esm__,
        v: __turbopack_export_value__,
        n: __turbopack_export_namespace__,
        c: __turbopack_cache__,
        M: __turbopack_modules__,
        l: __turbopack_load__,
        j: __turbopack_dynamic__,
        P: __turbopack_resolve_absolute_path__,
        U: __turbopack_relative_url__,
        R: __turbopack_resolve_module_id_path__,
        b: __turbopack_worker_blob_url__,
        g: global,
        __dirname,
        x: __turbopack_external_require__,
        y: __turbopack_external_import__,
        m: module,
        e: exports,
        t: __turbopack_require_real__,
      } = __turbopack_context__;
      {
        const mod = __turbopack_external_require__('@aws-sdk/client-s3', () =>
          require('@aws-sdk/client-s3')
        );

        module.exports = mod;
      }
    },
  '[externals]/@prisma/client [external] (@prisma/client, cjs)': function (
    __turbopack_context__
  ) {
    var {
      r: __turbopack_require__,
      f: __turbopack_module_context__,
      i: __turbopack_import__,
      s: __turbopack_esm__,
      v: __turbopack_export_value__,
      n: __turbopack_export_namespace__,
      c: __turbopack_cache__,
      M: __turbopack_modules__,
      l: __turbopack_load__,
      j: __turbopack_dynamic__,
      P: __turbopack_resolve_absolute_path__,
      U: __turbopack_relative_url__,
      R: __turbopack_resolve_module_id_path__,
      b: __turbopack_worker_blob_url__,
      g: global,
      __dirname,
      x: __turbopack_external_require__,
      y: __turbopack_external_import__,
      m: module,
      e: exports,
      t: __turbopack_require_real__,
    } = __turbopack_context__;
    {
      const mod = __turbopack_external_require__('@prisma/client', () =>
        require('@prisma/client')
      );

      module.exports = mod;
    }
  },
  '[externals]/next/dist/server/app-render/after-task-async-storage.external.js [external] (next/dist/server/app-render/after-task-async-storage.external.js, cjs)':
    function (__turbopack_context__) {
      var {
        r: __turbopack_require__,
        f: __turbopack_module_context__,
        i: __turbopack_import__,
        s: __turbopack_esm__,
        v: __turbopack_export_value__,
        n: __turbopack_export_namespace__,
        c: __turbopack_cache__,
        M: __turbopack_modules__,
        l: __turbopack_load__,
        j: __turbopack_dynamic__,
        P: __turbopack_resolve_absolute_path__,
        U: __turbopack_relative_url__,
        R: __turbopack_resolve_module_id_path__,
        b: __turbopack_worker_blob_url__,
        g: global,
        __dirname,
        x: __turbopack_external_require__,
        y: __turbopack_external_import__,
        m: module,
        e: exports,
        t: __turbopack_require_real__,
      } = __turbopack_context__;
      {
        const mod = __turbopack_external_require__(
          'next/dist/server/app-render/after-task-async-storage.external.js',
          () =>
            require('next/dist/server/app-render/after-task-async-storage.external.js')
        );

        module.exports = mod;
      }
    },
  '[project]/src/app/api/blog/route.tsx [app-route] (ecmascript)': (
    __turbopack_context__
  ) => {
    'use strict';

    var {
      r: __turbopack_require__,
      f: __turbopack_module_context__,
      i: __turbopack_import__,
      s: __turbopack_esm__,
      v: __turbopack_export_value__,
      n: __turbopack_export_namespace__,
      c: __turbopack_cache__,
      M: __turbopack_modules__,
      l: __turbopack_load__,
      j: __turbopack_dynamic__,
      P: __turbopack_resolve_absolute_path__,
      U: __turbopack_relative_url__,
      R: __turbopack_resolve_module_id_path__,
      b: __turbopack_worker_blob_url__,
      g: global,
      __dirname,
      x: __turbopack_external_require__,
      y: __turbopack_external_import__,
      z: __turbopack_require_stub__,
    } = __turbopack_context__;
    {
      __turbopack_esm__({
        DELETE: () => DELETE,
        GET: () => GET,
        PATCH: () => PATCH,
        POST: () => POST,
      });
      var __TURBOPACK__imported__module__$5b$externals$5d2f$crypto__$5b$external$5d$__$28$crypto$2c$__cjs$29$__ =
        __turbopack_import__('[externals]/crypto [external] (crypto, cjs)');
      var __TURBOPACK__imported__module__$5b$externals$5d2f40$aws$2d$sdk$2f$client$2d$s3__$5b$external$5d$__$2840$aws$2d$sdk$2f$client$2d$s3$2c$__cjs$29$__ =
        __turbopack_import__(
          '[externals]/@aws-sdk/client-s3 [external] (@aws-sdk/client-s3, cjs)'
        );
      var __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2c$__cjs$29$__ =
        __turbopack_import__(
          '[externals]/@prisma/client [external] (@prisma/client, cjs)'
        );
      var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ =
        __turbopack_import__(
          '[project]/node_modules/next/server.js [app-route] (ecmascript)'
        );
      const prisma =
        new __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2c$__cjs$29$__[
          'PrismaClient'
        ]();
      const s3 =
        new __TURBOPACK__imported__module__$5b$externals$5d2f40$aws$2d$sdk$2f$client$2d$s3__$5b$external$5d$__$2840$aws$2d$sdk$2f$client$2d$s3$2c$__cjs$29$__[
          'S3Client'
        ]({
          region: process.env.AWS_REGION,
          credentials: {
            accessKeyId: process.env.AWS_ACCESS_KEY,
            secretAccessKey: process.env.AWS_SECRET_KEY,
          },
        });
      async function GET() {
        try {
          const blogs = await prisma.blog.findMany();
          return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__[
            'NextResponse'
          ].json(blogs, {
            status: 200,
          });
        } catch (error) {
          console.error('Error fetching blogs:', error);
          return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__[
            'NextResponse'
          ].json(
            {
              error: 'Internal server error',
            },
            {
              status: 500,
            }
          );
        }
      }
      async function POST(req) {
        try {
          const formData = await req.formData();
          const title = formData.get('title');
          const content = formData.get('content');
          const reverse = formData.get('reverse') === 'true';
          const file = formData.get('file');
          if (!title || !content || !file) {
            return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__[
              'NextResponse'
            ].json(
              {
                error: 'Title, content, and image are required',
              },
              {
                status: 400,
              }
            );
          }
          // Generate a unique file name
          const fileName = `${(0, __TURBOPACK__imported__module__$5b$externals$5d2f$crypto__$5b$external$5d$__$28$crypto$2c$__cjs$29$__['randomUUID'])()}-${file.name}`;
          // Convert file to Buffer
          const fileBuffer = Buffer.from(await file.arrayBuffer());
          // Upload to S3
          await s3.send(
            new __TURBOPACK__imported__module__$5b$externals$5d2f40$aws$2d$sdk$2f$client$2d$s3__$5b$external$5d$__$2840$aws$2d$sdk$2f$client$2d$s3$2c$__cjs$29$__[
              'PutObjectCommand'
            ]({
              Bucket: process.env.AWS_BUCKET_NAME,
              Key: fileName,
              Body: fileBuffer,
              ContentType: file.type,
            })
          );
          const imageUrl = `https://${process.env.AWS_BUCKET_NAME}.s3.${process.env.AWS_REGION}.amazonaws.com/${fileName}`;
          // Save blog to database
          const newBlog = await prisma.blog.create({
            data: {
              title,
              content,
              image: imageUrl,
              reverse,
            },
          });
          return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__[
            'NextResponse'
          ].json(newBlog, {
            status: 201,
          });
        } catch (error) {
          console.error('Error creating blog:', error);
          return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__[
            'NextResponse'
          ].json(
            {
              error: 'Internal server error',
            },
            {
              status: 500,
            }
          );
        }
      }
      async function PATCH(req) {
        try {
          const formData = await req.formData();
          const id = formData.get('id');
          const title = formData.get('title');
          const content = formData.get('content');
          const reverse = formData.get('reverse') === 'true';
          const file = formData.get('file');
          if (!id) {
            return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__[
              'NextResponse'
            ].json(
              {
                error: 'Blog ID is required',
              },
              {
                status: 400,
              }
            );
          }
          let imageUrl;
          if (file) {
            const fileName = `${(0, __TURBOPACK__imported__module__$5b$externals$5d2f$crypto__$5b$external$5d$__$28$crypto$2c$__cjs$29$__['randomUUID'])()}-${file.name}`;
            const fileBuffer = Buffer.from(await file.arrayBuffer());
            await s3.send(
              new __TURBOPACK__imported__module__$5b$externals$5d2f40$aws$2d$sdk$2f$client$2d$s3__$5b$external$5d$__$2840$aws$2d$sdk$2f$client$2d$s3$2c$__cjs$29$__[
                'PutObjectCommand'
              ]({
                Bucket: process.env.AWS_BUCKET_NAME,
                Key: fileName,
                Body: fileBuffer,
                ContentType: file.type,
              })
            );
            imageUrl = `https://${process.env.AWS_BUCKET_NAME}.s3.${process.env.AWS_REGION}.amazonaws.com/${fileName}`;
          }
          const updatedBlog = await prisma.blog.update({
            where: {
              id: Number(id),
            },
            data: {
              title,
              content,
              image: imageUrl ?? undefined,
              reverse,
            },
          });
          return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__[
            'NextResponse'
          ].json(updatedBlog, {
            status: 200,
          });
        } catch (error) {
          console.error('Error updating blog:', error);
          return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__[
            'NextResponse'
          ].json(
            {
              error: 'Internal server error',
            },
            {
              status: 500,
            }
          );
        }
      }
      async function DELETE(req) {
        try {
          const { id } = await req.json();
          if (!id) {
            return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__[
              'NextResponse'
            ].json(
              {
                error: 'Blog ID is required',
              },
              {
                status: 400,
              }
            );
          }
          await prisma.blog.delete({
            where: {
              id: Number(id),
            },
          });
          return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__[
            'NextResponse'
          ].json(
            {
              message: 'Blog deleted successfully',
            },
            {
              status: 200,
            }
          );
        } catch (error) {
          console.error('Error deleting blog:', error);
          return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__[
            'NextResponse'
          ].json(
            {
              error: 'Internal server error',
            },
            {
              status: 500,
            }
          );
        }
      }
    }
  },
  '[project]/ (server-utils)': (__turbopack_context__) => {
    var {
      r: __turbopack_require__,
      f: __turbopack_module_context__,
      i: __turbopack_import__,
      s: __turbopack_esm__,
      v: __turbopack_export_value__,
      n: __turbopack_export_namespace__,
      c: __turbopack_cache__,
      M: __turbopack_modules__,
      l: __turbopack_load__,
      j: __turbopack_dynamic__,
      P: __turbopack_resolve_absolute_path__,
      U: __turbopack_relative_url__,
      R: __turbopack_resolve_module_id_path__,
      b: __turbopack_worker_blob_url__,
      g: global,
      __dirname,
      t: __turbopack_require_real__,
    } = __turbopack_context__;
    {
    }
  },
};

//# sourceMappingURL=%5Broot%20of%20the%20server%5D__6d8800._.js.map
